<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>History.fy ‚Äî –ú–µ–º—ã –∏–∑ –∏—Å—Ç–æ—Ä–∏–∏</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      margin: 0;
      padding: 0;
      background-color: #f8f8f8;
      color: #333;
      transition: background-color 0.3s, color 0.3s;
    }
    .dark-theme {
      background-color: #1e1e1e;
      color: #f0f0f0;
    }
    header {
      padding: 20px;
      background: #444;
      color: #fff;
      text-align: center;
    }
    .container {
      max-width: 900px;
      margin: 20px auto;
      padding: 10px;
    }
    .meme-gallery {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
      gap: 15px;
      padding: 20px;
      opacity: 0;
      transition: opacity 0.5s ease-in;
    }
    .meme-card {
      background: #fff;
      padding: 15px;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
      text-align: center;
      opacity: 0;
      transition: opacity 0.5s ease-out;
    }
    .meme-card img {
      width: 100%;
      height: auto;
      border-radius: 8px;
    }
    .meme-card h3 {
      font-size: 1.1rem;
      margin-top: 10px;
    }
    .meme-card p {
      font-size: 0.9rem;
      color: #555;
    }
    .buttons {
      margin-top: 10px;
    }
    .buttons button {
      margin-right: 10px;
    }
    form {
      margin-top: 30px;
    }
    input, textarea {
      width: 100%;
      padding: 10px;
      margin-bottom: 10px;
    }
    .search-bar {
      margin-bottom: 20px;
    }
    .theme-toggle {
      position: fixed;
      top: 10px;
      right: 10px;
      background: #eee;
      padding: 10px;
      border-radius: 5px;
      cursor: pointer;
    }
    @media (max-width: 600px) {
      .meme-card { font-size: 14px; }
    }
  </style>
</head>
<body>
  <div class="theme-toggle" onclick="toggleTheme()">üåô / ‚òÄÔ∏è</div>
  <header>
    <h1>History.fy</h1>
    <p>–ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –º–µ–º—ã —Å —É–º–æ–º –∏ —é–º–æ—Ä–æ–º</p>
  </header>

  <div class="container">
    <input class="search-bar" type="text" id="search" placeholder="üîç –ü–æ–∏—Å–∫ –º–µ–º–æ–≤..." onkeyup="searchMemes()">
    <button onclick="showRandomMeme()">üé≤ –°–ª—É—á–∞–π–Ω—ã–π –º–µ–º</button>

    <div class="meme-gallery" id="meme-gallery">
      <!-- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –º–µ–º–æ–≤ -->
      <div class="meme-card">
        <img src="https://i.imgur.com/O7pzS5N.jpeg" alt="Meme 1">
        <h3>–ü–æ—á–µ–º—É –ø–∏—Ä–∞–º–∏–¥—ã –±—ã–ª–∏ –ø–æ—Å—Ç—Ä–æ–µ–Ω—ã –≤ –ï–≥–∏–ø—Ç–µ?</h3>
        <p>–ß—Ç–æ–±—ã —Ñ–∞—Ä–∞–æ–Ω—ã –Ω–µ —Å–∫—É—á–∞–ª–∏ –≤ –∑–∞–≥—Ä–æ–±–Ω–æ–π –∂–∏–∑–Ω–∏...</p>
      </div>
      <!-- –ü–æ–≤—Ç–æ—Ä–∏ –±–ª–æ–∫ –¥–ª—è –æ—Å—Ç–∞–ª—å–Ω—ã—Ö –º–µ–º–æ–≤ -->
      <!-- –ü—Ä–∏–º–µ—Ä —Å–ª–µ–¥—É—é—â–∏—Ö –º–µ–º–æ–≤ -->
      <div class="meme-card">
        <img src="https://i.imgur.com/O7pzS5N.jpeg" alt="Meme 2">
        <h3>–ü–æ—á–µ–º—É –†–∏–º–ª—è–Ω–µ —Å—Ç—Ä–æ–∏–ª–∏ –∞–∫–≤–µ–¥—É–∫–∏?</h3>
        <p>–ß—Ç–æ–±—ã –≤–æ–¥–∞ –Ω–µ —É–Ω–µ—Å–ª–∞ –∏—Ö —Ü–∏–≤–∏–ª–∏–∑–∞—Ü–∏—é...</p>
      </div>
      <!-- –î–æ–±–∞–≤—å –µ—â–µ 28 –∫–∞—Ä—Ç–æ—á–µ–∫ –º–µ–º–æ–≤ –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ -->

    </div>

    <form onsubmit="addMeme(event)">
      <h2>‚ûï –î–æ–±–∞–≤–∏—Ç—å –º–µ–º</h2>
      <input type="text" id="meme-title" placeholder="–ó–∞–≥–æ–ª–æ–≤–æ–∫" required>
      <textarea id="meme-text" placeholder="–¢–µ–∫—Å—Ç –º–µ–º–∞" required></textarea>
      <input type="text" id="meme-image" placeholder="–°—Å—ã–ª–∫–∞ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)">
      <input type="text" id="meme-tags" placeholder="–ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ (—á–µ—Ä–µ–∑ –ø—Ä–æ–±–µ–ª)">
      <button type="submit">–î–æ–±–∞–≤–∏—Ç—å</button>
    </form>
  </div>

  <script>
    function like(btn) {
      let span = btn.querySelector('span');
      span.textContent = parseInt(span.textContent) + 1;
    }

    function share() {
      alert("–°–∫–æ–ø–∏—Ä—É–π —Å—Å—ã–ª–∫—É –∏–∑ –∞–¥—Ä–µ—Å–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ –∏ –æ—Ç–ø—Ä–∞–≤—å –¥—Ä—É–∑—å—è–º! :)");
    }

    function addComment(event, input) {
      if (event.key === "Enter") {
        const ul = input.nextElementSibling;
        const li = document.createElement("li");
        li.textContent = input.value;
        ul.appendChild(li);
        input.value = "";
      }
    }

    function addMeme(event) {
      event.preventDefault();
      const title = document.getElementById('meme-title').value;
      const text = document.getElementById('meme-text').value;
      const tags = document.getElementById('meme-tags').value;
      const image = document.getElementById('meme-image').value;

      const div = document.createElement("div");
      div.className = "meme-card";
      div.setAttribute("data-keywords", tags.toLowerCase());

      div.innerHTML = `
        ${image ? `<img src="${image}" alt="Meme Image" class="meme-img">` : ''}
        <h3>${title}</h3>
        <p>${text}</p>
        <div class="buttons">
            <button onclick="like(this)">‚ù§Ô∏è –õ–∞–π–∫ (<span>0</span>)</button>
            <button onclick="share()">üîó –ü–æ–¥–µ–ª–∏—Ç—å—Å—è</button>
        </div>
        <div class="comments">
            <input type="text" placeholder="‚úçÔ∏è –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π" onkeydown="addComment(event, this)">
            <ul></ul>
        </div>
      `;
      document.getElementById('meme-gallery').appendChild(div);
      event.target.reset();
    }

    function searchMemes() {
      const term = document.getElementById('search').value.toLowerCase();
      const cards = document.querySelectorAll('.meme-card');
      cards.forEach(card => {
        const keywords = card.getAttribute('data-keywords');
        card.style.display = keywords.includes(term) ? "block" : "none";
      });
    }

    function showRandomMeme() {
      const cards = document.querySelectorAll('.meme-card');
      cards.forEach(card => card.style.display = "none");
      const random = cards[Math.floor(Math.random() * cards.length)];
      random.style.display = "block";
      random.scrollIntoView({ behavior: "smooth" });
    }

    function toggleTheme() {
      document.body.classList.toggle("dark-theme");
    }

    // –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –∞–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è –∫–∞—Ä—Ç–æ—á–µ–∫
    window.addEventListener('load', () => {
      const gallery = document.getElementById('meme-gallery');
      setTimeout(() => {
        gallery.style.opacity = '1';
      }, 500);

      const cards = document.querySelectorAll('.meme-card');
      cards.forEach((card, index) => {
        setTimeout(() => {
          card.style.opacity = '1';
        }, index * 100);
      });
    });
  </script>
</body>
</html>
